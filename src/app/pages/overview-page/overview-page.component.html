<div class="h-full bg-base-200 p-3">
    <h1 class="font-bold text-3xl w-full mb-5 font-sans">TASK OVERVIEW</h1>
    <div class="flex h-[28rem] gap-2">
        <div class="container min-w-[19rem] max-w-[19rem]">
            <div class="font-bold py-3 px-3 text-lg bg-base-300 rounded-t-xl">
                Not started
            </div>
            <div class=" flex flex-col gap-2 p-1 border border-base-300 h-[22rem]" id="not-started"
                (drop)="drop($event, 'not-started')" (dragover)="allowDrop($event)">
                @for(task of tasks;track $index){
                @if(task.progress==0){
                <div class="card card-compact card-bordered bg-base-100 shadow-xl px-3 py-2 rounded-md" draggable="true"
                    (dragstart)="drag($event)" [id]="task.id">
                    <div class="text-md font-bold flex items-center gap-1">
                        @switch (task.priority) {
                        @case ("Low") {
                        <div class="w-4 h-4 border-green-500 bg-green-500 bg-opacity-30 border-2 rounded-full"></div>
                        }
                        @case ("Medium") {
                        <div class="w-4 h-4 border-yellow-500 bg-yellow-500 bg-opacity-30 border-2 rounded-full"></div>
                        }
                        @case ("High"){
                        <div class="w-4 h-4 border-red-500 bg-red-500 bg-opacity-30 border-2 rounded-full"></div>
                        }
                        }

                        {{ task.title }}
                    </div>
                    @if(task.description){
                    <div class="text-sm truncate-p"> {{ task.description }}</div>
                    }@else {
                    <div class="text-sm text-gray-500 truncate-p">No description provided.</div>
                    }
                </div>
                }
                }

            </div>
        </div>
        <div class="container min-w-[19rem] max-w-[19rem]">
            <div class="font-bold py-3 px-3 text-lg bg-base-300 rounded-t-xl">
                In Progress
            </div>
            <div class=" flex flex-col gap-2 p-1 border border-base-300 h-[22rem]" id="in-progress"
                (drop)="drop($event, 'in-progress')" (dragover)="allowDrop($event)">
                @for(task of tasks;track $index){
                @if(task.progress>0 && task.progress < 100) { <div
                    class="card card-compact card-bordered bg-base-100 shadow-xl px-3 py-2 rounded-md" draggable="true"
                    (dragstart)="drag($event)" [id]="task.id">
                    <div class="text-md font-bold flex items-center gap-1">
                        @switch (task.priority) {
                        @case ("Low") {
                        <div class="w-4 h-4 border-green-500 bg-green-500 bg-opacity-30 border-2 rounded-full"></div>
                        }
                        @case ("Medium") {
                        <div class="w-4 h-4 border-yellow-500 bg-yellow-500 bg-opacity-30 border-2 rounded-full"></div>
                        }
                        @case ("High"){
                        <div class="w-4 h-4 border-red-500 bg-red-500 bg-opacity-30 border-2 rounded-full"></div>
                        }
                        }
                        {{ task.title }}
                    </div>
                    @if(task.description){
                    <div class="text-sm truncate-p"> {{ task.description }}</div>
                    }@else {
                    <div class="text-sm text-gray-500 truncate-p">No description provided.</div>
                    }
            </div>
            }
            }

        </div>
    </div>
    <div class="container min-w-[19rem] max-w-[19rem]">
        <div class="font-bold py-3 px-3 text-lg bg-base-300 rounded-t-xl">
            Done
        </div>
        <div class=" flex flex-col gap-2 p-1 border border-base-300 h-[22rem]" id="done" (drop)="drop($event, 'done')"
            (dragover)="allowDrop($event)">
            @for(task of tasks;track $index){
            @if(task.progress==100){
            <div class="card card-compact card-bordered bg-base-100 shadow-xl px-3 py-2 rounded-md" draggable="true"
                (dragstart)="drag($event)" [id]="task.id">
                <div class="text-md font-bold flex items-center gap-1">
                    @switch (task.priority) {
                    @case ("Low") {
                    <div class="w-4 h-4 border-green-500 bg-green-500 bg-opacity-30 border-2 rounded-full"></div>
                    }
                    @case ("Medium") {
                    <div class="w-4 h-4 border-yellow-500 bg-yellow-500 bg-opacity-30 border-2 rounded-full"></div>
                    }
                    @case ("High"){
                    <div class="w-4 h-4 border-red-500 bg-red-500 bg-opacity-30 border-2 rounded-full"></div>
                    }
                    }
                    {{ task.title }}
                </div>
                @if(task.description){
                <div class="text-sm truncate-p"> {{ task.description }}</div>
                }@else {
                <div class="text-sm text-gray-500 truncate-p">No description provided.</div>
                }
            </div>
            }
            }

        </div>
    </div>
</div>
</div>